<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.system.mapper.BusiCameraInstallMapper">

    <resultMap type="BusiCameraInstall" id="BusiCameraInstallResult">
        <result property="id"    column="id"    />
        <result property="projectName"    column="project_name"    />
        <result property="regionName"    column="region_name"    />
        <result property="manager"    column="manager"    />
        <result property="installTime"    column="install_time"    />
        <result property="retrieveTime"    column="retrieve_time"    />
        <result property="deviceCount"    column="device_count"    />
        <result property="kmlFilePath"    column="kml_file_path"    />
        <result property="boundaryFile"    column="boundary_file"    />
        <result property="excelFilePath"    column="excel_file_path"    />
        <result property="boundaryJson"    column="boundary_json"    />
        <result property="status"    column="status"    />

        <result property="auditStatus"    column="audit_status"    />
        <result property="auditReason"    column="audit_reason"    />

        <result property="pointFileName"    column="point_file_name"    />
        <result property="boundaryFileName"    column="boundary_file_name"    />

        <result property="createBy"    column="create_by"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateBy"    column="update_by"    />
        <result property="updateTime"    column="update_time"    />
        <result property="remark"    column="remark"    />
    </resultMap>

    <sql id="selectBusiCameraInstallVo">
        select id, project_name, region_name, manager, install_time, retrieve_time, device_count, kml_file_path, boundary_file, excel_file_path, boundary_json, status, audit_status, audit_reason, point_file_name, boundary_file_name, create_by, create_time, update_by, update_time, remark from busi_camera_install
    </sql>

    <select id="selectBusiCameraInstallList" parameterType="BusiCameraInstall" resultMap="BusiCameraInstallResult">
        <include refid="selectBusiCameraInstallVo"/>
        <where>
            <if test="projectName != null  and projectName != ''"> and project_name like concat('%', #{projectName}, '%')</if>
            <if test="regionName != null  and regionName != ''"> and region_name like concat('%', #{regionName}, '%')</if>
            <if test="manager != null  and manager != ''"> and manager = #{manager}</if>
            <if test="installTime != null "> and install_time = #{installTime}</if>
            <if test="status != null  and status != ''"> and status = #{status}</if>

            <if test="auditStatus != null  and auditStatus != ''"> and audit_status = #{auditStatus}</if>

            <if test="createBy != null  and createBy != ''"> and create_by = #{createBy}</if>
        </where>
    </select>

    <select id="selectBusiCameraInstallById" parameterType="Long" resultMap="BusiCameraInstallResult">
        <include refid="selectBusiCameraInstallVo"/>
        where id = #{id}
    </select>

    <insert id="insertBusiCameraInstall" parameterType="BusiCameraInstall" useGeneratedKeys="true" keyProperty="id">
        insert into busi_camera_install
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="projectName != null">project_name,</if>
            <if test="regionName != null">region_name,</if>
            <if test="manager != null">manager,</if>
            <if test="installTime != null">install_time,</if>
            <if test="retrieveTime != null">retrieve_time,</if>
            <if test="deviceCount != null">device_count,</if>
            <if test="kmlFilePath != null">kml_file_path,</if>
            <if test="boundaryFile != null">boundary_file,</if>
            <if test="excelFilePath != null">excel_file_path,</if>
            <if test="boundaryJson != null">boundary_json,</if>
            <if test="status != null">status,</if>
            <if test="auditStatus != null">audit_status,</if>
            <if test="auditReason != null">audit_reason,</if>
            <if test="pointFileName != null">point_file_name,</if>
            <if test="boundaryFileName != null">boundary_file_name,</if>
            <if test="createBy != null">create_by,</if>
            <if test="createTime != null">create_time,</if>
            <if test="updateBy != null">update_by,</if>
            <if test="updateTime != null">update_time,</if>
            <if test="remark != null">remark,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="projectName != null">#{projectName},</if>
            <if test="regionName != null">#{regionName},</if>
            <if test="manager != null">#{manager},</if>
            <if test="installTime != null">#{installTime},</if>
            <if test="retrieveTime != null">#{retrieveTime},</if>
            <if test="deviceCount != null">#{deviceCount},</if>
            <if test="kmlFilePath != null">#{kmlFilePath},</if>
            <if test="boundaryFile != null">#{boundaryFile},</if>
            <if test="excelFilePath != null">#{excelFilePath},</if>
            <if test="boundaryJson != null">#{boundaryJson},</if>
            <if test="status != null">#{status},</if>
            <if test="auditStatus != null">#{auditStatus},</if>
            <if test="auditReason != null">#{auditReason},</if>
            <if test="pointFileName != null">#{pointFileName},</if>
            <if test="boundaryFileName != null">#{boundaryFileName},</if>
            <if test="createBy != null">#{createBy},</if>
            <if test="createTime != null">#{createTime},</if>
            <if test="updateBy != null">#{updateBy},</if>
            <if test="updateTime != null">#{updateTime},</if>
            <if test="remark != null">#{remark},</if>
        </trim>
    </insert>

    <update id="updateBusiCameraInstall" parameterType="BusiCameraInstall">
        update busi_camera_install
        <trim prefix="SET" suffixOverrides=",">
            <if test="projectName != null">project_name = #{projectName},</if>
            <if test="regionName != null">region_name = #{regionName},</if>
            <if test="manager != null">manager = #{manager},</if>
            <if test="installTime != null">install_time = #{installTime},</if>
            <if test="retrieveTime != null">retrieve_time = #{retrieveTime},</if>
            <if test="deviceCount != null">device_count = #{deviceCount},</if>
            <if test="kmlFilePath != null">kml_file_path = #{kmlFilePath},</if>
            <if test="boundaryFile != null">boundary_file = #{boundaryFile},</if>
            <if test="excelFilePath != null">excel_file_path = #{excelFilePath},</if>
            <if test="boundaryJson != null">boundary_json = #{boundaryJson},</if>
            <if test="status != null">status = #{status},</if>
            <if test="auditStatus != null">audit_status = #{auditStatus},</if>
            <if test="auditReason != null">audit_reason = #{auditReason},</if>
            <if test="pointFileName != null">point_file_name = #{pointFileName},</if>
            <if test="boundaryFileName != null">boundary_file_name = #{boundaryFileName},</if>
            <if test="createBy != null">create_by = #{createBy},</if>
            <if test="createTime != null">create_time = #{createTime},</if>
            <if test="updateBy != null">update_by = #{updateBy},</if>
            <if test="updateTime != null">update_time = #{updateTime},</if>
            <if test="remark != null">remark = #{remark},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteBusiCameraInstallById" parameterType="Long">
        delete from busi_camera_install where id = #{id}
    </delete>

    <delete id="deleteBusiCameraInstallByIds" parameterType="String">
        delete from busi_camera_install where id in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>